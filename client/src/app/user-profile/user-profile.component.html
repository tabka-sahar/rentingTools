<app-navbare></app-navbare>
<link
  href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
  rel="stylesheet"
  id="bootstrap-css"
/>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<div class="container" id="sakr">
  <div class="main-body">
    <div class="row gutters-sm">
      <div class="col-md-4 mb-3">
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <img
                src="{{ state.profile_image_uri }}"
                alt="Admin"
                class="rounded-circle"
                width="200"
                height="200"
              />
              <div class="mt-3">
                <h4>{{ state.username }}</h4>
                <!-- <button class="btn btn-primary">Follow</button>
                <button class="btn btn-outline-primary">Message</button> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <div class="card mb-3">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Full Name</h6>
              </div>
              <div class="col-sm-9 text-secondary">{{ state.fullname }}</div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Email</h6>
              </div>
              <div class="col-sm-9 text-secondary">{{ state.email }}</div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Mobile</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                (216) {{ state.phone_number }}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Adress</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ state.adrress }}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-12">
                <a class="btn btn-info" (click)="editProfile()">Edit</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- input to add a tool post -->
<div class="containerinput container contact-form">
  <form method="post">
    <h3>Post a tool to rent</h3>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <input
            type="text"
            class="form-control"
            [(ngModel)]="post.title"
            [ngModelOptions]="{ standalone: true }"
            placeholder="Title *"
            value=""
          />
        </div>
        <div class="form-group">
          <input
            type="text"
            class="form-control"
            [(ngModel)]="post.price"
            [ngModelOptions]="{ standalone: true }"
            placeholder="Price *"
            value=""
          />
        </div>
        <div class="form-group">
          <input
            type="text"
            class="form-control"
            [(ngModel)]="post.categorie"
            [ngModelOptions]="{ standalone: true }"
            placeholder="Categorie *"
            value=""
          />
        </div>
        <div class="form-group">
          <input
            type="text"
            class="form-control"
            [(ngModel)]="post.pictures"
            [ngModelOptions]="{ standalone: true }"
            placeholder="Picture *"
            value=""
          />
        </div>
        <div class="form-group">
          <input
            type="submit"
            name="btnSubmit"
            class="btn btn-info"
            value="Post"
            (click)="addPost()"
          />
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <textarea
            class="form-control"
            [(ngModel)]="post.description"
            [ngModelOptions]="{ standalone: true }"
            placeholder="Discription"
            style="width: 100%; height: 150px"
          ></textarea>
        </div>
      </div>
    </div>
  </form>
</div>

<!-- user tools posts -->
<div class="toolsCardsContainer">
  <div class="container1" *ngFor="let tool of tools; let index = index">
    <div class="card1">
      <div class="card__header1">
        <img [src]="tool.pictures[0]" width="600" />
      </div>
      <div class="card__body1">
        <div class="btn">
          <button
            (click)="availableOrNot(tool._id, tool.available)"
            class="tag tag-green"
            *ngIf="tool.available; else elseBlock"
          >
            available
          </button>
          <button class="tag tag-red" (click)="deleteTool(tool._id)">
            delete
          </button>
        </div>

        <ng-template #elseBlock>
          <button
            (click)="availableOrNot(index, tool.available)"
            class="tag tag-red"
          >
            not available
          </button>
        </ng-template>
        <h4>{{ tool.title }}</h4>
        <small>{{ tool.createdAt }}</small>
        <li>{{ tool.price }}</li>
        <li>{{ tool.description }}</li>
      </div>
    </div>
  </div>
</div>
